(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/6Fi":function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("Tt9S");var t=function(){}},"0rlr":function(n,l,e){"use strict";var t=e("gIcY"),o=(e("eUd/"),e("LBeq")),u=function(){return function(){this.chapterId=o.a.getId(),this.chapterDescription="",this.story="",this.dateCreated=new Date}}();e("wHek"),e("lb/0"),e.d(l,"a",function(){return i});var i=function(){function n(n,l){this.builder=n,this.activeModal=l}return n.prototype.ngOnInit=function(){this.addChapterForm=this.builder.group({chapterNumber:["",[t.Validators.required,t.Validators.pattern(/^[1-9]\d*$/)]],chapterTitle:["",t.Validators.required],chapterDescription:[""],chapterStory:[""]}),this.chapterNumber=this.addChapterForm.controls.chapterNumber,this.chapterTitle=this.addChapterForm.controls.chapterTitle,this.chapterDescription=this.addChapterForm.controls.chapterDescription,this.chapterStory=this.addChapterForm.controls.chapterStory,this.editChapter&&this.populateForm()},n.prototype.closeModal=function(){this.activeModal.close()},n.prototype.addEditChapter=function(n,l){if(l){var e=this.editChapter;e||(e=new u),e.chapterNumber=+n.chapterNumber,e.chapterTitle=n.chapterTitle,e.chapterDescription=n.chapterDescription,e.story=n.chapterStory,this.activeModal.close(e)}},n.prototype.onEditorChange=function(n){this.chapterStory.setValue(n)},n.prototype.populateForm=function(){this.chapterNumber.setValue(this.editChapter.chapterNumber),this.chapterTitle.setValue(this.editChapter.chapterTitle),this.chapterDescription.setValue(this.editChapter.chapterDescription),this.chapterStory.setValue(this.editChapter.story)},n}()},"0soG":function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("FObW"),e("nHJ7"),e("pYLI"),e("0rlr"),e("ghat");var t=function(){}},"1a3F":function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("Dc9n");var t=function(){}},"1ocJ":function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("4bAE"),i=e("mc3f"),r=e("Ip0R"),a=e("3vqK"),s=e("EB9a"),c=e("0rlr"),d=e("Ppan");e.d(l,"a",function(){return f});var g=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,2,"button",[["aria-label","Close"],["class","close"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeModal()&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\xd7"])),(n()(),t["\u0275eld"](6,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,8).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,8).onReset()&&o),"ngSubmit"===l&&(o=!1!==u.addEditChapter(u.addChapterForm.value,u.addChapterForm.valid)&&o),o},null,null)),t["\u0275did"](7,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](8,540672,null,0,o.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.FormGroupDirective]),t["\u0275did"](10,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](11,0,null,null,48,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,47,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,u.f,u.b)),t["\u0275did"](13,49152,null,0,i.b,[],null,null),(n()(),t["\u0275eld"](14,0,null,1,45,"nb-card-body",[],null,null,null,u.e,u.a)),t["\u0275did"](15,49152,null,0,i.a,[],null,null),(n()(),t["\u0275eld"](16,0,null,0,22,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,1,"label",[["for","chapterNumber"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Chapter Number"])),(n()(),t["\u0275eld"](21,0,null,null,6,"input",[["class","form-control"],["id","chapterNumber"],["placeholder","Chapter Number"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,23)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,23).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](22,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](23,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](25,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](27,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](28,0,null,null,10,"div",[["class","col-sm-9"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,1,"label",[["for","chapterTitle"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Chapter Title"])),(n()(),t["\u0275eld"](32,0,null,null,6,"input",[["class","form-control"],["id","chapterTitle"],["placeholder","Chapter Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,34)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,34).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](33,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](34,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](36,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](38,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](39,0,null,0,8,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](40,0,null,null,1,"label",[["for","chapterDescription"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Chapter Description"])),(n()(),t["\u0275eld"](42,0,null,null,5,"input",[["class","form-control"],["id","chapterDescription"],["placeholder","Chapter Description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,43)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,43).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,43)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,43)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](43,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](45,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](47,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](48,0,null,0,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](49,0,null,null,1,"label",[["for","chapterStory"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Story"])),(n()(),t["\u0275eld"](51,0,null,null,8,"ckeditor",[["id","chapterStory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,a.b,a.a)),t["\u0275did"](52,13287424,null,2,s.CKEditorComponent,[t.NgZone],{config:[0,"config"]},null),t["\u0275qud"](603979776,1,{toolbarButtons:1}),t["\u0275qud"](603979776,2,{toolbarGroups:1}),t["\u0275pod"](55,{extraPlugins:0,height:1}),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[s.CKEditorComponent]),t["\u0275did"](57,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](59,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](60,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](61,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","submit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Save"]))],function(n,l){var e=l.component;n(l,8,0,e.addChapterForm),n(l,22,0,"form-control",e.chapterNumber.valid?"":"form-control-danger"),n(l,25,0,e.addChapterForm.controls.chapterNumber),n(l,33,0,"form-control",e.chapterTitle.valid?"":"form-control-danger"),n(l,36,0,e.addChapterForm.controls.chapterTitle),n(l,45,0,e.addChapterForm.controls.chapterDescription),n(l,52,0,n(l,55,0,"divarea","320")),n(l,57,0,e.addChapterForm.controls.chapterStory)},function(n,l){n(l,2,0,l.component.header),n(l,6,0,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending),n(l,12,1,[t["\u0275nov"](l,13).xxsmall,t["\u0275nov"](l,13).xsmall,t["\u0275nov"](l,13).small,t["\u0275nov"](l,13).medium,t["\u0275nov"](l,13).large,t["\u0275nov"](l,13).xlarge,t["\u0275nov"](l,13).xxlarge,t["\u0275nov"](l,13).active,t["\u0275nov"](l,13).disabled,t["\u0275nov"](l,13).primary,t["\u0275nov"](l,13).info,t["\u0275nov"](l,13).success,t["\u0275nov"](l,13).warning,t["\u0275nov"](l,13).danger,t["\u0275nov"](l,13).hasAccent,t["\u0275nov"](l,13).primaryAccent,t["\u0275nov"](l,13).infoAccent,t["\u0275nov"](l,13).successAccent,t["\u0275nov"](l,13).warningAccent,t["\u0275nov"](l,13).dangerAccent,t["\u0275nov"](l,13).activeAccent,t["\u0275nov"](l,13).disabledAccent]),n(l,21,0,t["\u0275nov"](l,27).ngClassUntouched,t["\u0275nov"](l,27).ngClassTouched,t["\u0275nov"](l,27).ngClassPristine,t["\u0275nov"](l,27).ngClassDirty,t["\u0275nov"](l,27).ngClassValid,t["\u0275nov"](l,27).ngClassInvalid,t["\u0275nov"](l,27).ngClassPending),n(l,32,0,t["\u0275nov"](l,38).ngClassUntouched,t["\u0275nov"](l,38).ngClassTouched,t["\u0275nov"](l,38).ngClassPristine,t["\u0275nov"](l,38).ngClassDirty,t["\u0275nov"](l,38).ngClassValid,t["\u0275nov"](l,38).ngClassInvalid,t["\u0275nov"](l,38).ngClassPending),n(l,42,0,t["\u0275nov"](l,47).ngClassUntouched,t["\u0275nov"](l,47).ngClassTouched,t["\u0275nov"](l,47).ngClassPristine,t["\u0275nov"](l,47).ngClassDirty,t["\u0275nov"](l,47).ngClassValid,t["\u0275nov"](l,47).ngClassInvalid,t["\u0275nov"](l,47).ngClassPending),n(l,51,0,t["\u0275nov"](l,59).ngClassUntouched,t["\u0275nov"](l,59).ngClassTouched,t["\u0275nov"](l,59).ngClassPristine,t["\u0275nov"](l,59).ngClassDirty,t["\u0275nov"](l,59).ngClassValid,t["\u0275nov"](l,59).ngClassInvalid,t["\u0275nov"](l,59).ngClassPending)})}var f=t["\u0275ccf"]("ngx-add-edit-chapter",c.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ngx-add-edit-chapter",[],null,null,null,p,g)),t["\u0275did"](1,114688,null,0,c.a,[o.FormBuilder,d.a],null,null)],function(n,l){n(l,1,0)},null)},{editChapter:"editChapter",header:"header",chapters:"chapters"},{},[])},"37kT":function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("nDnC"),o=e("LBeq"),u=e("0zd0"),i=e("CcnG"),r=e("t/Na"),a=function(){function n(n){this.http=n,this.siteUrl=t.a+"sites/"}return n.prototype.getSites=function(){return this.http.get(this.siteUrl+"getall").pipe(Object(u.a)(1e4))},n.prototype.saveSite=function(n){return this.http.post(this.siteUrl+"create",n,o.a.getHttpHeaders()).pipe(Object(u.a)(1e4))},n.prototype.updateSite=function(n){return this.http.post(this.siteUrl+"update",n,o.a.getHttpHeaders()).pipe(Object(u.a)(1e4))},n.prototype.deleteSite=function(n){return this.http.post(this.siteUrl+"delete",n,o.a.getHttpHeaders()).pipe(Object(u.a)(1e4))},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n(i.inject(r.c))},token:n,providedIn:"root"}),n}()},"3NU7":function(n,l){window.CKEDITOR_BASEPATH="//cdn.ckeditor.com/4.6.2/full-all/"},"9iT/":function(n,l){window.CKEDITOR_BASEPATH="//cdn.ckeditor.com/4.6.2/full-all/"},BL72:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("CG3O"),o=e("Ip0R"),u=e("0rlr"),i=(e("eUd/"),e("qS97"),e("nDnC")),r=(e("TWOa"),e("elQu"),e("37kT"),e("LBeq")),a=(e("688w"),function(){function n(n,l,e,t,u){this.modalService=n,this.toasterService=l,this.chapterService=e,this.bookService=t,this.siteService=u,this.settings={mode:"external",noDataMessage:"No chapters",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{chapterNumber:{title:"Number",type:"string",width:"10%"},chapterTitle:{title:"Title",type:"string"},chapterDescription:{title:"Description",type:"string"},dateCreated:{title:"Date Created",type:"string",addable:!1,editable:!1,valuePrepareFunction:function(n){return new o.DatePipe("en-EN").transform(n,"yyyy-MM-dd")}}},pager:{perPage:10}}}return n.prototype.ngOnInit=function(){this.getMotsepeSiteId()},n.prototype.getMotsepeSiteId=function(){var n=this;this.loading=!0,this.siteService.getSites().subscribe(function(l){l&&(n.motsepeSiteId=l[0].siteId)},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Chapters","Error fetching site: "+l.message)},function(){n.loading=!1,n.getBooks()})},n.prototype.getBooks=function(){var n=this;this.loading=!0,this.bookService.getBooks(this.motsepeSiteId).subscribe(function(l){l?n.books=l:n.showInformation(i.b.TOAST_TYPE.warning,"Chapters","No books retrieve.")},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Chapters","Error fetching books: "+l.message),console.error("Error fetching books: "+l.message)},function(){n.loading=!1})},n.prototype.onChange=function(n){var l=n.srcElement.value;""!==l?this.getBook(l):this.book=null},n.prototype.getBook=function(n){var l=this.books.filter(function(l){return l.bookId===n})[0];l?(this.bookId=n,this.book=l,this.getChapters(n)):this.showInformation(i.b.TOAST_TYPE.warning,"Chapters","Could not fetch book details!")},n.prototype.getChapters=function(n){var l=this;this.loading=!0,this.chapterService.getChapters(n).subscribe(function(n){l.chapters=[],n?l.chapters=n:l.showInformation(i.b.TOAST_TYPE.warning,"Chapters","No chapters retrieved "),l.source=new t.a(l.chapters)},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Chapters","Error fetching chapters "+n.message)},function(){l.loading=!1})},n.prototype.onDelete=function(n){var l=this;if(window.confirm("Are you sure you want to delete?")){var e=n.data,t=this.chapters;this.loading=!0,this.chapterService.deleteChapter(e).subscribe(function(n){n?(t=l.chapters.filter(function(n){return n.chapterId!==e.chapterId}),l.showInformation(i.b.TOAST_TYPE.success,"Chapters","Chapter deleted!")):l.showInformation(i.b.TOAST_TYPE.warning,"Chapters","Chapter NOT deleted!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Chapters","Error deleting chapter: "+n.message)},function(){l.chapters=t,l.source.load(l.chapters),l.loading=!1})}},n.prototype.onCreate=function(n){console.info("Adding new chapter..."),this.processAddEditChapter("Book Management - Add New Chapter",null)},n.prototype.onEdit=function(n){var l=n.data;console.info("Editing chapter..."),this.processAddEditChapter("Book Management - Edit Chapter",l)},n.prototype.processAddEditChapter=function(n,l){var e=this,t=this.modalService.open(u.a,{size:"lg",container:"nb-layout"});t.componentInstance.header=n,t.componentInstance.editChapter=l,t.componentInstance.chapters=this.chapters,t.result.then(function(n){n&&(l?e.updatingChapter(n):e.addNewChapter(n))}).catch(function(n){console.error(n)})},n.prototype.updatingChapter=function(n){var l=this;this.loading=!0,this.chapterService.updateChapter(n).subscribe(function(e){e?(l.chapters.filter(function(l){return l.chapterId!==n.chapterId}).push(e),l.showInformation(i.b.TOAST_TYPE.success,"Chapters","Chapter updated!")):l.showInformation(i.b.TOAST_TYPE.warning,"Chapters","Chapter NOT updated!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Chapters","Error adding chapter: "+n.message),console.error()},function(){l.loading=!1,l.source.load(l.chapters)})},n.prototype.addNewChapter=function(n){var l=this;n.bookId=this.bookId,n.chapterLink=n.chapterTitle,this.loading=!0,this.chapterService.addChapter(n).subscribe(function(e){e?(l.chapters.push(n),l.showInformation(i.b.TOAST_TYPE.success,"Chapter","chapter added!")):l.showInformation(i.b.TOAST_TYPE.warning,"Chapter","chapter NOT added!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Chapter","Error adding chapter: "+n.message),console.error()},function(){l.loading=!1,l.source.load(l.chapters)})},n.prototype.showInformation=function(n,l,e){this.toasterConfig=i.b.TOASTER_CONFIG;var t=r.a.makeToast(n,l,e);this.toasterService.popAsync(t)},n}())},BRMx:function(n,l,e){"use strict";var t=e("CcnG"),o=e("4bAE"),u=e("mc3f"),i=e("SU4i"),r=e("+ImT"),a=e("Qq3i"),s=e("ymQ0"),c=e("/UJ/"),d=e("e9P1"),g=e("iCtU"),p=e("Ovjw"),f=e("37kT"),h=e("t/Na"),m=e("elQu"),v=e("tJ7H"),b=e("vmqP");e.d(l,"a",function(){return _});var C=t["\u0275crt"]({encapsulation:0,styles:[["nb-card[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}"]],data:{}});function S(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,9,"nb-card",[["nbSpinnerStatus","info"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null],[2,"nb-spinner-container",null]],null,null,o.f,o.b)),t["\u0275did"](1,49152,null,0,u.b,[],null,null),t["\u0275did"](2,81920,null,0,i.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.Renderer2,t.ElementRef],{spinnerStatus:[0,"spinnerStatus"],nbSpinner:[1,"nbSpinner"]},null),(n()(),t["\u0275eld"](3,0,null,0,2,"nb-card-header",[],null,null,null,o.h,o.d)),t["\u0275did"](4,49152,null,0,u.d,[],null,null),(n()(),t["\u0275ted"](-1,0,[" Book Management - Books "])),(n()(),t["\u0275eld"](6,0,null,1,3,"nb-card-body",[],null,null,null,o.e,o.a)),t["\u0275did"](7,49152,null,0,u.a,[],null,null),(n()(),t["\u0275eld"](8,0,null,0,1,"ng2-smart-table",[],null,[[null,"create"],[null,"edit"],[null,"delete"]],function(n,l,e){var t=!0,o=n.component;return"create"===l&&(t=!1!==o.onCreate(e)&&t),"edit"===l&&(t=!1!==o.onEdit(e)&&t),"delete"===l&&(t=!1!==o.onDelete(e)&&t),t},r.b,r.a)),t["\u0275did"](9,573440,null,0,a.a,[],{source:[0,"source"],settings:[1,"settings"]},{delete:"delete",edit:"edit",create:"create"}),(n()(),t["\u0275eld"](10,0,null,null,1,"toaster-container",[],null,null,null,s.b,s.a)),t["\u0275did"](11,245760,null,0,c.a,[d.a,t.ChangeDetectorRef,t.NgZone],{toasterconfig:[0,"toasterconfig"]},null)],function(n,l){var e=l.component;n(l,2,0,"info",e.loading),n(l,9,0,e.source,e.settings),n(l,11,0,e.toasterConfig)},function(n,l){n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent,t["\u0275nov"](l,2).isSpinnerExist])})}var _=t["\u0275ccf"]("ngx-books",b.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"ngx-books",[],null,null,null,S,C)),t["\u0275prd"](512,null,g.a,g.a,[t.ComponentFactoryResolver,t.Injector,p.a]),t["\u0275prd"](512,null,f.a,f.a,[h.c]),t["\u0275prd"](512,null,m.a,m.a,[h.c,v.a]),t["\u0275did"](4,114688,null,0,b.a,[g.a,d.a,f.a,m.a],null,null)],function(n,l){n(l,4,0)},null)},{},{},[])},CBuG:function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("4bAE"),i=e("mc3f"),r=e("Ip0R"),a=e("3vqK"),s=e("EB9a"),c=e("ghat"),d=e("Ppan");e.d(l,"a",function(){return f});var g=t["\u0275crt"]({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{cursor:pointer;height:1rem}"]],data:{}});function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,2,"button",[["aria-label","Close"],["class","close"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeModal()&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\xd7"])),(n()(),t["\u0275eld"](6,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,8).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,8).onReset()&&o),"ngSubmit"===l&&(o=!1!==u.addSubSection(u.addSubSectionForm.value,u.addSubSectionForm.valid)&&o),o},null,null)),t["\u0275did"](7,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](8,540672,null,0,o.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.FormGroupDirective]),t["\u0275did"](10,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](11,0,null,null,48,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,47,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,u.f,u.b)),t["\u0275did"](13,49152,null,0,i.b,[],null,null),(n()(),t["\u0275eld"](14,0,null,1,45,"nb-card-body",[],null,null,null,u.e,u.a)),t["\u0275did"](15,49152,null,0,i.a,[],null,null),(n()(),t["\u0275eld"](16,0,null,0,22,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,1,"label",[["for","subsectionNumber"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Subsection Number"])),(n()(),t["\u0275eld"](21,0,null,null,6,"input",[["class","form-control"],["id","subsectionNumber"],["placeholder","Subsection Number"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,23)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,23).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](22,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](23,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](25,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](27,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](28,0,null,null,10,"div",[["class","col-sm-9"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,1,"label",[["for","subsectionTitle"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Subsection Title"])),(n()(),t["\u0275eld"](32,0,null,null,6,"input",[["class","form-control"],["id","subsectionTitle"],["placeholder","Subsection Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,34)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,34).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](33,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](34,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](36,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](38,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](39,0,null,0,8,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](40,0,null,null,1,"label",[["for","subsectionDescription"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Subsection Description"])),(n()(),t["\u0275eld"](42,0,null,null,5,"input",[["class","form-control"],["id","subsectionDescription"],["placeholder","Subsection Description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,43)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,43).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,43)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,43)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](43,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](45,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](47,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](48,0,null,0,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](49,0,null,null,1,"label",[["for","subsectionStory"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Story"])),(n()(),t["\u0275eld"](51,0,null,null,8,"ckeditor",[["id","subsectionStory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,a.b,a.a)),t["\u0275did"](52,13287424,null,2,s.CKEditorComponent,[t.NgZone],{config:[0,"config"]},null),t["\u0275qud"](603979776,1,{toolbarButtons:1}),t["\u0275qud"](603979776,2,{toolbarGroups:1}),t["\u0275pod"](55,{extraPlugins:0,height:1}),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[s.CKEditorComponent]),t["\u0275did"](57,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](59,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](60,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](61,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","submit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Save changes"]))],function(n,l){var e=l.component;n(l,8,0,e.addSubSectionForm),n(l,22,0,"form-control",e.subsectionNumber.valid?"":"form-control-danger"),n(l,25,0,e.addSubSectionForm.controls.subsectionNumber),n(l,33,0,"form-control",e.subsectionTitle.valid?"":"form-control-danger"),n(l,36,0,e.addSubSectionForm.controls.subsectionTitle),n(l,45,0,e.addSubSectionForm.controls.subsectionDescription),n(l,52,0,n(l,55,0,"divarea","320")),n(l,57,0,e.addSubSectionForm.controls.subsectionStory)},function(n,l){n(l,2,0,l.component.header),n(l,6,0,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending),n(l,12,1,[t["\u0275nov"](l,13).xxsmall,t["\u0275nov"](l,13).xsmall,t["\u0275nov"](l,13).small,t["\u0275nov"](l,13).medium,t["\u0275nov"](l,13).large,t["\u0275nov"](l,13).xlarge,t["\u0275nov"](l,13).xxlarge,t["\u0275nov"](l,13).active,t["\u0275nov"](l,13).disabled,t["\u0275nov"](l,13).primary,t["\u0275nov"](l,13).info,t["\u0275nov"](l,13).success,t["\u0275nov"](l,13).warning,t["\u0275nov"](l,13).danger,t["\u0275nov"](l,13).hasAccent,t["\u0275nov"](l,13).primaryAccent,t["\u0275nov"](l,13).infoAccent,t["\u0275nov"](l,13).successAccent,t["\u0275nov"](l,13).warningAccent,t["\u0275nov"](l,13).dangerAccent,t["\u0275nov"](l,13).activeAccent,t["\u0275nov"](l,13).disabledAccent]),n(l,21,0,t["\u0275nov"](l,27).ngClassUntouched,t["\u0275nov"](l,27).ngClassTouched,t["\u0275nov"](l,27).ngClassPristine,t["\u0275nov"](l,27).ngClassDirty,t["\u0275nov"](l,27).ngClassValid,t["\u0275nov"](l,27).ngClassInvalid,t["\u0275nov"](l,27).ngClassPending),n(l,32,0,t["\u0275nov"](l,38).ngClassUntouched,t["\u0275nov"](l,38).ngClassTouched,t["\u0275nov"](l,38).ngClassPristine,t["\u0275nov"](l,38).ngClassDirty,t["\u0275nov"](l,38).ngClassValid,t["\u0275nov"](l,38).ngClassInvalid,t["\u0275nov"](l,38).ngClassPending),n(l,42,0,t["\u0275nov"](l,47).ngClassUntouched,t["\u0275nov"](l,47).ngClassTouched,t["\u0275nov"](l,47).ngClassPristine,t["\u0275nov"](l,47).ngClassDirty,t["\u0275nov"](l,47).ngClassValid,t["\u0275nov"](l,47).ngClassInvalid,t["\u0275nov"](l,47).ngClassPending),n(l,51,0,t["\u0275nov"](l,59).ngClassUntouched,t["\u0275nov"](l,59).ngClassTouched,t["\u0275nov"](l,59).ngClassPristine,t["\u0275nov"](l,59).ngClassDirty,t["\u0275nov"](l,59).ngClassValid,t["\u0275nov"](l,59).ngClassInvalid,t["\u0275nov"](l,59).ngClassPending)})}var f=t["\u0275ccf"]("ngx-add-edit-subsection",c.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ngx-add-edit-subsection",[],null,null,null,p,g)),t["\u0275did"](1,114688,null,0,c.a,[o.FormBuilder,d.a],null,null)],function(n,l){n(l,1,0)},null)},{editSubsection:"editSubsection",header:"header"},{},[])},CDrf:function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("Ip0R"),i=e("4bAE"),r=e("mc3f"),a=e("SU4i"),s=e("+ImT"),c=e("Qq3i"),d=e("ymQ0"),g=e("/UJ/"),p=e("e9P1"),f=e("iCtU"),h=e("Ovjw"),m=e("elQu"),v=e("t/Na"),b=e("tJ7H"),C=e("TWOa"),S=e("ZrYL"),_=e("37kT"),k=e("VP72"),T=e("Dc9n");e.d(l,"a",function(){return N});var y=t["\u0275crt"]({encapsulation:0,styles:[[".nb-theme-default   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-default   [_nghost-%COMP%]   nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}.nb-theme-cosmic   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}.nb-theme-corporate   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]],data:{}});function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,[" ",""]))],function(n,l){n(l,1,0,l.context.$implicit.bookId),n(l,2,0,l.context.$implicit.bookId)},function(n,l){n(l,3,0,l.context.$implicit.bookTitle)})}function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,[" ",""]))],function(n,l){n(l,1,0,l.context.$implicit.chapterId),n(l,2,0,l.context.$implicit.chapterId)},function(n,l){n(l,3,0,l.context.$implicit.chapterTitle)})}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","input-group full-width"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Chapter"])),(n()(),t["\u0275eld"](3,0,null,null,6,"select",[["class","form-control"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onChapterChange(e)&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](5,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](6,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](7,null,["Select Chapter in ",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](9,802816,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,5,0,""),n(l,6,0,""),n(l,9,0,e.chapters)},function(n,l){n(l,7,0,l.component.selectedBook.bookTitle)})}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,[" ",""]))],function(n,l){n(l,1,0,l.context.$implicit.sectionId),n(l,2,0,l.context.$implicit.sectionId)},function(n,l){n(l,3,0,l.context.$implicit.sectionTitle)})}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","input-group full-width"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Section"])),(n()(),t["\u0275eld"](3,0,null,null,6,"select",[["class","form-control"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onSectionChange(e)&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](5,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](6,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,null,["Select Section"])),(n()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](9,802816,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,5,0,""),n(l,6,0,""),n(l,9,0,e.sections)},null)}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,9,"nb-card",[["nbSpinnerStatus","info"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null],[2,"nb-spinner-container",null]],null,null,i.f,i.b)),t["\u0275did"](1,49152,null,0,r.b,[],null,null),t["\u0275did"](2,81920,null,0,a.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.Renderer2,t.ElementRef],{spinnerStatus:[0,"spinnerStatus"],nbSpinner:[1,"nbSpinner"]},null),(n()(),t["\u0275eld"](3,0,null,0,2,"nb-card-header",[],null,null,null,i.h,i.d)),t["\u0275did"](4,49152,null,0,r.d,[],null,null),(n()(),t["\u0275ted"](5,0,[" Subsections for "," in "," in "," "])),(n()(),t["\u0275eld"](6,0,null,1,3,"nb-card-body",[],null,null,null,i.e,i.a)),t["\u0275did"](7,49152,null,0,r.a,[],null,null),(n()(),t["\u0275eld"](8,0,null,0,1,"ng2-smart-table",[],null,[[null,"create"],[null,"edit"],[null,"delete"]],function(n,l,e){var t=!0,o=n.component;return"create"===l&&(t=!1!==o.onCreate(e)&&t),"edit"===l&&(t=!1!==o.onEdit(e)&&t),"delete"===l&&(t=!1!==o.onDelete(e)&&t),t},s.b,s.a)),t["\u0275did"](9,573440,null,0,c.a,[],{source:[0,"source"],settings:[1,"settings"]},{delete:"delete",edit:"edit",create:"create"}),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){var e=l.component;n(l,2,0,"info",e.loading),n(l,9,0,e.source,e.settings)},function(n,l){var e=l.component;n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent,t["\u0275nov"](l,2).isSpinnerExist]),n(l,5,0,e.selectedSection.sectionTitle,e.selectedChapter.chapterTitle,e.selectedBook.bookTitle)})}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,25,"nb-card",[["class","inline-form-card"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,i.f,i.b)),t["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,i.h,i.d)),t["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),t["\u0275ted"](-1,0,["Book Management - Subsections"])),(n()(),t["\u0275eld"](5,0,null,1,20,"nb-card-body",[],null,null,null,i.e,i.a)),t["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),t["\u0275eld"](7,0,null,0,18,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,9).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,9).onReset()&&o),o},null,null)),t["\u0275did"](8,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](9,4210688,null,0,o.NgForm,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.NgForm]),t["\u0275did"](11,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","input-group full-width"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,1,"label",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Book"])),(n()(),t["\u0275eld"](15,0,null,null,6,"select",[["class","form-control"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onBookChange(e)&&t),t},null,null)),(n()(),t["\u0275eld"](16,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](17,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](18,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,null,["Select Book"])),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](21,802816,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](23,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](25,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,P)),t["\u0275did"](27,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](28,0,null,null,1,"toaster-container",[],null,null,null,d.b,d.a)),t["\u0275did"](29,245760,null,0,g.a,[p.a,t.ChangeDetectorRef,t.NgZone],{toasterconfig:[0,"toasterconfig"]},null)],function(n,l){var e=l.component;n(l,17,0,""),n(l,18,0,""),n(l,21,0,e.books),n(l,23,0,e.selectedBook),n(l,25,0,e.selectedChapter),n(l,27,0,e.selectedBook&&e.selectedChapter&&e.selectedSection),n(l,29,0,e.toasterConfig)},function(n,l){n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent]),n(l,7,0,t["\u0275nov"](l,11).ngClassUntouched,t["\u0275nov"](l,11).ngClassTouched,t["\u0275nov"](l,11).ngClassPristine,t["\u0275nov"](l,11).ngClassDirty,t["\u0275nov"](l,11).ngClassValid,t["\u0275nov"](l,11).ngClassInvalid,t["\u0275nov"](l,11).ngClassPending)})}var N=t["\u0275ccf"]("ngx-sub-sections",T.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"ngx-sub-sections",[],null,null,null,D,y)),t["\u0275prd"](512,null,f.a,f.a,[t.ComponentFactoryResolver,t.Injector,h.a]),t["\u0275prd"](512,null,m.a,m.a,[v.c,b.a]),t["\u0275prd"](512,null,C.a,C.a,[v.c,b.a]),t["\u0275prd"](512,null,S.a,S.a,[v.c]),t["\u0275prd"](512,null,_.a,_.a,[v.c]),t["\u0275prd"](512,null,k.a,k.a,[v.c]),t["\u0275did"](7,114688,null,0,T.a,[f.a,p.a,m.a,C.a,S.a,_.a,k.a],null,null)],function(n,l){n(l,7,0)},null)},{},{},[])},Dc9n:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("CG3O"),o=e("Ip0R"),u=e("ghat"),i=(e("eUd/"),e("qS97"),e("nDnC")),r=e("LBeq"),a=(e("elQu"),e("TWOa"),e("ZrYL"),e("37kT"),e("VP72"),e("688w"),function(){function n(n,l,e,t,u,i,r){this.modalService=n,this.toasterService=l,this.bookService=e,this.chapterService=t,this.sectionService=u,this.siteService=i,this.subsectionService=r,this.settings={mode:"external",noDataMessage:"No subsections.",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>'},columns:{subsectionTitle:{title:"Title",type:"string"},subsectionDescription:{title:"Description",type:"string"},dateCreated:{title:"Date Created",type:"string",addable:!1,editable:!1,valuePrepareFunction:function(n){return new o.DatePipe("en-EN").transform(n,"yyyy-MM-dd")}}},pager:{perPage:10}}}return n.prototype.ngOnInit=function(){this.getMotsepeSiteId()},n.prototype.getMotsepeSiteId=function(){var n=this;this.loading=!0,this.siteService.getSites().subscribe(function(l){l&&(n.motsepeSiteId=l[0].siteId)},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Subsections","Error fetching site: "+l.message)},function(){n.loading=!1,n.getBooks()})},n.prototype.getBooks=function(){var n=this;this.loading=!0,this.bookService.getBooks(this.motsepeSiteId).subscribe(function(l){l?n.books=l:n.showInformation(i.b.TOAST_TYPE.warning,"Subsections","No books retrieve.")},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Subsections","Error fetching books: "+l.message),console.error("Error fetching books: "+l.message)},function(){n.loading=!1})},n.prototype.onBookChange=function(n){var l=n.srcElement.value;""!==l?this.getBook(l):(this.selectedBook=null,this.selectedChapter=null,this.selectedSection=null)},n.prototype.getBook=function(n){var l=this.books.filter(function(l){return l.bookId===n})[0];l?(this.selectedBook=l,this.getChapters(n)):this.showInformation(i.b.TOAST_TYPE.warning,"Subsections","Could not fetch book details!")},n.prototype.getChapters=function(n){var l=this;this.loading=!0,this.chapterService.getChapters(n).subscribe(function(n){l.chapters=[],n?l.chapters=n:l.showInformation(i.b.TOAST_TYPE.warning,"Subsections","No chapters retrieved ")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Subsections","Error fetching chapters "+n.message)},function(){l.loading=!1})},n.prototype.onChapterChange=function(n){var l=n.srcElement.value;this.selectedSection=null,""!==l?this.getChapter(l):this.selectedChapter=null},n.prototype.getChapter=function(n){var l=this.chapters.filter(function(l){return l.chapterId===n})[0];l?(this.selectedChapter=l,this.getSectionsInChapter(n)):this.showInformation(i.b.TOAST_TYPE.warning,"Sections","Could not find chapter!")},n.prototype.getSectionsInChapter=function(n){var l=this;this.loading=!0,this.sectionService.getSectionsInChapter(n).subscribe(function(n){l.sections=[],n?l.sections=n:l.showInformation(i.b.TOAST_TYPE.warning,"Sections","Could not fetch sections!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Sections","Error fetching sections: "+n.message)},function(){l.loading=!1})},n.prototype.onSectionChange=function(n){var l=n.srcElement.value;""!==l?this.getSection(l):this.selectedSection=null},n.prototype.getSection=function(n){var l=this.sections.filter(function(l){return l.sectionId===n})[0];l?(this.selectedSection=l,this.getSubsectionsInSection(n)):this.showInformation(i.b.TOAST_TYPE.warning,"Subsections","Could not find section!")},n.prototype.getSubsectionsInSection=function(n){var l=this;this.loading=!0,this.subsectionService.getSubsectionsInSection(n).subscribe(function(n){l.subsections=[],n?l.subsections=n:l.showInformation(i.b.TOAST_TYPE.success,"Subsections","Could not fetch subsections!"),l.source=new t.a(l.subsections)},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Subsections","Error fetching subsections: "+n.message)},function(){l.loading=!1})},n.prototype.onDelete=function(n){var l=this;if(window.confirm("Are you sure you want to delete?")){var e=n.data,t=this.subsections;this.loading=!0,this.subsectionService.deleteSubsection(e).subscribe(function(n){n?(t=l.subsections.filter(function(n){return n.subsectionId!==e.subsectionId}),l.showInformation(i.b.TOAST_TYPE.success,"Subsections","Subsection deleted!")):l.showInformation(i.b.TOAST_TYPE.warning,"Subsections","Subsection NOT deleted!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Subsections","Error deleting subsection: "+n.message)},function(){l.subsections=t,l.source.load(l.subsections),l.loading=!1})}},n.prototype.onCreate=function(n){console.info("Adding new subsections..."),this.processAddEditSubSection("Book Management - Add New Subsection",null)},n.prototype.onEdit=function(n){var l=n.data;console.info("Editing subsections..."),this.processAddEditSubSection("Book Management - Edit SubSection",l)},n.prototype.processAddEditSubSection=function(n,l){var e=this,t=this.modalService.open(u.a,{size:"lg",container:"nb-layout"});t.componentInstance.header=n,t.componentInstance.editSubsection=l,t.result.then(function(n){n&&(l?e.updateSubsection(n):e.addNewSubsection(n))}).catch(function(n){console.error(n)})},n.prototype.addNewSubsection=function(n){var l=this;n.sectionId=this.selectedSection.sectionId,this.loading=!0,this.subsectionService.addSubsection(n).subscribe(function(n){n?(l.subsections.push(n),l.showInformation(i.b.TOAST_TYPE.success,"Subsections","Subsection added!")):l.showInformation(i.b.TOAST_TYPE.warning,"Subsections","Subsection NOT added!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Subsections","Error adding subsection: "+n.message)},function(){l.loading=!1,l.source.load(l.subsections)})},n.prototype.updateSubsection=function(n){var l=this;this.loading=!0,this.subsectionService.updateSubsection(n).subscribe(function(e){e?(l.subsections.filter(function(l){return l.subsectionId!==n.subsectionId}).push(e),l.showInformation(i.b.TOAST_TYPE.success,"Subsections","Subsection updated!")):l.showInformation(i.b.TOAST_TYPE.warning,"Subsections","Subsection NOT updated!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Subsections","Error updating subsection: "+n.message)},function(){l.loading=!1,l.source.load(l.subsections)})},n.prototype.showInformation=function(n,l,e){this.toasterConfig=i.b.TOASTER_CONFIG;var t=r.a.makeToast(n,l,e);this.toasterService.popAsync(t)},n}())},F0BB:function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("Ip0R"),i=e("4bAE"),r=e("mc3f"),a=e("SU4i"),s=e("+ImT"),c=e("Qq3i"),d=e("ymQ0"),g=e("/UJ/"),p=e("e9P1"),f=e("iCtU"),h=e("Ovjw"),m=e("elQu"),v=e("t/Na"),b=e("tJ7H"),C=e("TWOa"),S=e("37kT"),_=e("ZrYL"),k=e("Tt9S");e.d(l,"a",function(){return w});var T=t["\u0275crt"]({encapsulation:0,styles:[[".nb-theme-default   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-default   [_nghost-%COMP%]   nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}.nb-theme-cosmic   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}.nb-theme-corporate   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]],data:{}});function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit.bookId),n(l,2,0,l.context.$implicit.bookId)},function(n,l){n(l,3,0,l.context.$implicit.bookTitle)})}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit.chapterId),n(l,2,0,l.context.$implicit.chapterId)},function(n,l){n(l,3,0,l.context.$implicit.chapterTitle)})}function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","input-group full-width"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Chapter"])),(n()(),t["\u0275eld"](3,0,null,null,6,"select",[["class","form-control"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onChapterChange(e)&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](5,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](6,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](7,null,["Select Chapter in ",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](9,802816,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,5,0,""),n(l,6,0,""),n(l,9,0,e.chapters)},function(n,l){n(l,7,0,l.component.selectedBook.bookTitle)})}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,14,"nb-card",[["nbSpinnerStatus","info"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null],[2,"nb-spinner-container",null]],null,null,i.f,i.b)),t["\u0275did"](1,49152,null,0,r.b,[],null,null),t["\u0275did"](2,81920,null,0,a.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.Renderer2,t.ElementRef],{spinnerStatus:[0,"spinnerStatus"],nbSpinner:[1,"nbSpinner"]},null),(n()(),t["\u0275eld"](3,0,null,0,7,"nb-card-header",[],null,null,null,i.h,i.d)),t["\u0275did"](4,49152,null,0,r.d,[],null,null),(n()(),t["\u0275ted"](-1,0,[" Sections for "])),(n()(),t["\u0275eld"](6,0,null,0,1,"em",[],null,null,null,null,null)),(n()(),t["\u0275ted"](7,null,["",""])),(n()(),t["\u0275ted"](-1,0,[" in "])),(n()(),t["\u0275eld"](9,0,null,0,1,"em",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),(n()(),t["\u0275eld"](11,0,null,1,3,"nb-card-body",[],null,null,null,i.e,i.a)),t["\u0275did"](12,49152,null,0,r.a,[],null,null),(n()(),t["\u0275eld"](13,0,null,0,1,"ng2-smart-table",[],null,[[null,"create"],[null,"edit"],[null,"delete"]],function(n,l,e){var t=!0,o=n.component;return"create"===l&&(t=!1!==o.onCreate(e)&&t),"edit"===l&&(t=!1!==o.onEdit(e)&&t),"delete"===l&&(t=!1!==o.onDelete(e)&&t),t},s.b,s.a)),t["\u0275did"](14,573440,null,0,c.a,[],{source:[0,"source"],settings:[1,"settings"]},{delete:"delete",edit:"edit",create:"create"}),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){var e=l.component;n(l,2,0,"info",e.loading),n(l,14,0,e.source,e.settings)},function(n,l){var e=l.component;n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent,t["\u0275nov"](l,2).isSpinnerExist]),n(l,7,0,e.selectedChapter.chapterTitle),n(l,10,0,e.selectedBook.bookTitle)})}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,23,"nb-card",[["class","inline-form-card"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,i.f,i.b)),t["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,i.h,i.d)),t["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),t["\u0275ted"](-1,0,["Book Management - Sections"])),(n()(),t["\u0275eld"](5,0,null,1,18,"nb-card-body",[],null,null,null,i.e,i.a)),t["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),t["\u0275eld"](7,0,null,0,16,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,9).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,9).onReset()&&o),o},null,null)),t["\u0275did"](8,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](9,4210688,null,0,o.NgForm,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.NgForm]),t["\u0275did"](11,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","input-group full-width"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,1,"label",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Book"])),(n()(),t["\u0275eld"](15,0,null,null,6,"select",[["class","form-control"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onBookChange(e)&&t),t},null,null)),(n()(),t["\u0275eld"](16,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](17,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](18,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,null,["Select Book"])),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](21,802816,null,0,u.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](23,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,I)),t["\u0275did"](25,16384,null,0,u.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](26,0,null,null,1,"toaster-container",[],null,null,null,d.b,d.a)),t["\u0275did"](27,245760,null,0,g.a,[p.a,t.ChangeDetectorRef,t.NgZone],{toasterconfig:[0,"toasterconfig"]},null)],function(n,l){var e=l.component;n(l,17,0,""),n(l,18,0,""),n(l,21,0,e.books),n(l,23,0,e.selectedBook),n(l,25,0,e.selectedBook&&e.selectedChapter),n(l,27,0,e.toasterConfig)},function(n,l){n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent]),n(l,7,0,t["\u0275nov"](l,11).ngClassUntouched,t["\u0275nov"](l,11).ngClassTouched,t["\u0275nov"](l,11).ngClassPristine,t["\u0275nov"](l,11).ngClassDirty,t["\u0275nov"](l,11).ngClassValid,t["\u0275nov"](l,11).ngClassInvalid,t["\u0275nov"](l,11).ngClassPending)})}var w=t["\u0275ccf"]("ngx-sections",k.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"ngx-sections",[],null,null,null,A,T)),t["\u0275prd"](512,null,f.a,f.a,[t.ComponentFactoryResolver,t.Injector,h.a]),t["\u0275prd"](512,null,m.a,m.a,[v.c,b.a]),t["\u0275prd"](512,null,C.a,C.a,[v.c,b.a]),t["\u0275prd"](512,null,S.a,S.a,[v.c]),t["\u0275prd"](512,null,_.a,_.a,[v.c]),t["\u0275did"](6,114688,null,0,k.a,[f.a,p.a,m.a,C.a,S.a,_.a],null,null)],function(n,l){n(l,6,0)},null)},{},{},[])},FObW:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){}},KD3X:function(n,l,e){"use strict";e.d(l,"a",function(){return o});var t=e("LBeq"),o=function(){return function(){this.bookId=t.a.getId(),this.bookDescription=this.story=this.isbn=this.eisbn="",this.dateCreated=new Date}}()},LBeq:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("o9EK"),o=e("kScs"),u=e("t/Na"),i=e("nDnC"),r=e("qS97"),a=function(){function n(){}return n.getId=function(){return o.Md5.hashStr(t.UUID.UUID()).toString()},n.isValidEmail=function(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.toLowerCase())},n.getHttpHeaders=function(){return{headers:new u.h({"Content-Type":"application/json"})}},n.makeToast=function(n,l,e){return{type:n=null===n||""===n?i.b.TOAST_TYPE.default:n,title:l,body:e,timeout:i.b.TIMEOUT,showCloseButton:i.b.SHOW_CLOSE_BUTTON,bodyOutputType:r.a.TrustedHtml}},n}()},Nz4L:function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("vmqP");var t=function(){}},O9GE:function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("BL72");var t=function(){}},TWOa:function(n,l,e){"use strict";e.d(l,"a",function(){return s});var t=e("nDnC"),o=e("tJ7H"),u=e("LBeq"),i=e("0zd0"),r=e("CcnG"),a=e("t/Na"),s=function(){function n(n,l){this.http=n,this.chapterUrl=t.a+"books/site/",this.handleError=l.createHandleError("ChapterService")}return n.prototype.addChapter=function(n){return this.http.post(this.chapterUrl+"chapter/create",n,u.a.getHttpHeaders()).pipe(Object(i.a)(1e4))},n.prototype.getChapters=function(n){return this.http.get(this.chapterUrl+"chapters/getall/"+n).pipe(Object(i.a)(1e4))},n.prototype.deleteChapter=function(n){return this.http.post(this.chapterUrl+"chapter/delete",n,u.a.getHttpHeaders()).pipe(Object(i.a)(1e4))},n.prototype.updateChapter=function(n){return this.http.post(this.chapterUrl+"chapter/update",n,u.a.getHttpHeaders()).pipe(Object(i.a)(1e4))},n.prototype.getChapter=function(n){return this.http.get(this.chapterUrl+"chapter/get/"+n).pipe(Object(i.a)(1e4))},n.ngInjectableDef=r.defineInjectable({factory:function(){return new n(r.inject(a.c),r.inject(o.a))},token:n,providedIn:"root"}),n}()},Tt9S:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("CG3O"),o=e("Ip0R"),u=e("pYLI"),i=(e("eUd/"),e("nDnC")),r=(e("qS97"),e("LBeq")),a=(e("elQu"),e("TWOa"),e("37kT"),e("ZrYL"),e("688w"),function(){function n(n,l,e,t,u,i){this.modalService=n,this.toasterService=l,this.bookService=e,this.chapterService=t,this.siteService=u,this.sectionService=i,this.settings={mode:"external",noDataMessage:"No sections.",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{sectionTitle:{title:"Title",type:"string"},sectionDescription:{title:"Description",type:"string"},dateCreated:{title:"Date Created",type:"string",addable:!1,editable:!1,valuePrepareFunction:function(n){return new o.DatePipe("en-EN").transform(n,"yyyy-MM-dd")}}},pager:{perPage:10}}}return n.prototype.ngOnInit=function(){this.getMotsepeSiteId()},n.prototype.getMotsepeSiteId=function(){var n=this;this.loading=!0,this.siteService.getSites().subscribe(function(l){l&&(n.motsepeSiteId=l[0].siteId)},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Sections","Error fetching site: "+l.message)},function(){n.loading=!1,n.getBooks()})},n.prototype.getBooks=function(){var n=this;this.loading=!0,this.bookService.getBooks(this.motsepeSiteId).subscribe(function(l){l?n.books=l:n.showInformation(i.b.TOAST_TYPE.warning,"Sections","No books retrieve.")},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Sections","Error fetching books: "+l.message),console.error("Error fetching books: "+l.message)},function(){n.loading=!1})},n.prototype.onBookChange=function(n){var l=n.srcElement.value;""!==l?this.getBook(l):(this.selectedBook=null,this.selectedChapter=null)},n.prototype.getBook=function(n){var l=this.books.filter(function(l){return l.bookId===n})[0];l?(this.selectedBook=l,this.getChapters(n)):this.showInformation(i.b.TOAST_TYPE.warning,"Sections","Could not fetch book details!")},n.prototype.getChapters=function(n){var l=this;this.loading=!0,this.chapterService.getChapters(n).subscribe(function(n){l.chapters=[],n?l.chapters=n:l.showInformation(i.b.TOAST_TYPE.warning,"Sections","No chapters retrieved ")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Sections","Error fetching chapters "+n.message)},function(){l.loading=!1})},n.prototype.onChapterChange=function(n){var l=n.srcElement.value;""!==l?this.getChapter(l):this.selectedChapter=null},n.prototype.getChapter=function(n){var l=this.chapters.filter(function(l){return l.chapterId===n})[0];l?(this.selectedChapter=l,this.getSectionsInChapter(n)):this.showInformation(i.b.TOAST_TYPE.warning,"Sections","Could not fetch book details!")},n.prototype.getSectionsInChapter=function(n){var l=this;this.loading=!0,this.sectionService.getSectionsInChapter(n).subscribe(function(n){l.sections=[],n?l.sections=n:l.showInformation(i.b.TOAST_TYPE.warning,"Sections","Could not fetch sections!"),l.source=new t.a(l.sections)},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Sections","Error fetching sections: "+n.message)},function(){l.loading=!1})},n.prototype.onDelete=function(n){var l=this;if(window.confirm("Are you sure you want to delete?")){var e=n.data,t=this.sections;this.loading=!0,this.sectionService.deleteSection(e).subscribe(function(n){n?(t=l.sections.filter(function(n){return n.sectionId!==e.sectionId}),l.showInformation(i.b.TOAST_TYPE.success,"Sections","Section deleted!")):l.showInformation(i.b.TOAST_TYPE.warning,"Sections","Section NOT deleted!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Sections","Error deleting section: "+n.message)},function(){l.sections=t,l.source.load(l.sections),l.loading=!1})}},n.prototype.onCreate=function(n){console.info("Adding new section..."),this.processAddEditSection("Book Management - Add New Section",null)},n.prototype.onEdit=function(n){var l=n.data;console.info("Editing section..."),this.processAddEditSection("Book Management - Edit Section",l)},n.prototype.processAddEditSection=function(n,l){var e=this,t=this.modalService.open(u.a,{size:"lg",container:"nb-layout"});t.componentInstance.header=n,t.componentInstance.editSection=l,t.result.then(function(n){n&&(l?e.updateSection(n):e.addNewSection(n))}).catch(function(n){console.error(n)})},n.prototype.addNewSection=function(n){var l=this;n.chapterId=this.selectedChapter.chapterId,this.loading=!0,this.sectionService.addSection(n).subscribe(function(n){n?(l.sections.push(n),l.showInformation(i.b.TOAST_TYPE.success,"Sections","Section added!")):l.showInformation(i.b.TOAST_TYPE.warning,"Sections","Section NOT added!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Sections","Error adding section: "+n.message)},function(){l.loading=!1,l.source.load(l.sections)})},n.prototype.updateSection=function(n){var l=this;this.loading=!0,this.sectionService.updateSection(n).subscribe(function(e){e?(l.sections.filter(function(l){return l.sectionId!==n.sectionId}).push(e),l.showInformation(i.b.TOAST_TYPE.success,"Sections","Section updated!")):l.showInformation(i.b.TOAST_TYPE.warning,"Sections","Section NOT updated!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Sections","Error updating section: "+n.message)},function(){l.loading=!1,l.source.load(l.sections)})},n.prototype.showInformation=function(n,l,e){this.toasterConfig=i.b.TOASTER_CONFIG;var t=r.a.makeToast(n,l,e);this.toasterService.popAsync(t)},n}())},VP72:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("nDnC"),o=e("0zd0"),u=e("LBeq"),i=e("CcnG"),r=e("t/Na"),a=function(){function n(n){this.http=n,this.subsectionURL=t.a+"books/site/"}return n.prototype.getSubsectionsInSection=function(n){return this.http.get(this.subsectionURL+"subsections/getall/"+n).pipe(Object(o.a)(1e4))},n.prototype.addSubsection=function(n){return this.http.post(this.subsectionURL+"subsection/create",n,u.a.getHttpHeaders()).pipe(Object(o.a)(1e4))},n.prototype.updateSubsection=function(n){return this.http.post(this.subsectionURL+"subsection/update",n,u.a.getHttpHeaders()).pipe(Object(o.a)(1e4))},n.prototype.deleteSubsection=function(n){return this.http.post(this.subsectionURL+"subsection/delete",n,u.a.getHttpHeaders()).pipe(Object(o.a)(1e4))},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n(i.inject(r.c))},token:n,providedIn:"root"}),n}()},WKqP:function(n,l){window.CKEDITOR_BASEPATH="//cdn.ckeditor.com/4.6.2/full-all/"},ZrYL:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("nDnC"),o=e("0zd0"),u=e("LBeq"),i=e("CcnG"),r=e("t/Na"),a=function(){function n(n){this.http=n,this.sectionURL=t.a+"books/site/"}return n.prototype.getSectionsInChapter=function(n){return this.http.get(this.sectionURL+"sections/getall/"+n).pipe(Object(o.a)(1e4))},n.prototype.addSection=function(n){return this.http.post(this.sectionURL+"section/create",n,u.a.getHttpHeaders()).pipe(Object(o.a)(1e4))},n.prototype.updateSection=function(n){return this.http.post(this.sectionURL+"section/update",n,u.a.getHttpHeaders()).pipe(Object(o.a)(1e4))},n.prototype.deleteSection=function(n){return this.http.post(this.sectionURL+"section/delete",n,u.a.getHttpHeaders()).pipe(Object(o.a)(1e4))},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n(i.inject(r.c))},token:n,providedIn:"root"}),n}()},coXM:function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e("FObW"),e("vmqP"),e("BL72"),e("Tt9S"),e("Dc9n");var t=function(){}},dOqv:function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("4bAE"),i=e("mc3f"),r=e("Ip0R"),a=e("oEDp"),s=e("OU4G"),c=e("VSch"),d=e("9n00"),g=e("Wqpw"),p=e("3vqK"),f=e("EB9a"),h=e("nHJ7"),m=e("Ppan");e.d(l,"a",function(){return C});var v=t["\u0275crt"]({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{cursor:pointer;height:1rem}"]],data:{}});function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,2,"button",[["aria-label","Close"],["class","close"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeModal()&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\xd7"])),(n()(),t["\u0275eld"](6,0,null,null,108,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,8).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,8).onReset()&&o),"ngSubmit"===l&&(o=!1!==u.addEditBook(u.addBookForm.value,u.addBookForm.valid)&&o),o},null,null)),t["\u0275did"](7,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](8,540672,null,0,o.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.FormGroupDirective]),t["\u0275did"](10,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](11,0,null,null,100,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,99,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,u.f,u.b)),t["\u0275did"](13,49152,null,0,i.b,[],null,null),(n()(),t["\u0275eld"](14,0,null,1,97,"nb-card-body",[],null,null,null,u.e,u.a)),t["\u0275did"](15,49152,null,0,i.a,[],null,null),(n()(),t["\u0275eld"](16,0,null,0,28,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,1,"label",[["for","bookTitle"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Book Title"])),(n()(),t["\u0275eld"](21,0,null,null,6,"input",[["class","form-control"],["id","bookTitle"],["placeholder","Book Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,23)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,23).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](22,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](23,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](25,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](27,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](28,0,null,null,16,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,1,"label",[["for","bookDatePublished"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Date Published"])),(n()(),t["\u0275eld"](32,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](33,0,null,null,1,"button",[["class","input-group-addon"],["type","button"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,39).toggle()&&o),o},null,null)),(n()(),t["\u0275eld"](34,0,null,null,0,"img",[["src","../../../../../../assets/images/calendar-interface-symbol-tool.svg"]],null,null,null,null,null)),(n()(),t["\u0275eld"](35,16777216,null,null,9,"input",[["class","form-control"],["id","bookDatePublished"],["ngbDatepicker",""],["placeholder","yyyy-mm-dd"],["readonly",""],["type","text"]],[[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,37)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,37).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,37)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,37)._compositionEnd(e.target.value)&&o),"input"===l&&(o=!1!==t["\u0275nov"](n,39).manualDateChange(e.target.value)&&o),"change"===l&&(o=!1!==t["\u0275nov"](n,39).manualDateChange(e.target.value,!0)&&o),"keyup.esc"===l&&(o=!1!==t["\u0275nov"](n,39).close()&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,39).onBlur()&&o),o},null,null)),t["\u0275did"](36,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](37,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](512,null,a.a,a.a,[s.a]),t["\u0275did"](39,671744,[["d",4]],0,c.a,[d.b,t.ElementRef,t.ViewContainerRef,t.Renderer2,t.ComponentFactoryResolver,t.NgZone,a.a,s.a,g.a],{maxDate:[0,"maxDate"]},null),t["\u0275prd"](1024,null,o.NG_VALIDATORS,function(n){return[n]},[c.a]),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n,l){return[n,l]},[o.DefaultValueAccessor,c.a]),t["\u0275did"](42,540672,null,0,o.FormControlDirective,[[6,o.NG_VALIDATORS],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](44,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](45,0,null,0,22,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](46,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](47,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](48,0,null,null,1,"label",[["for","bookAuthor"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Author"])),(n()(),t["\u0275eld"](50,0,null,null,6,"input",[["class","form-control"],["id","bookAuthor"],["placeholder","Book Author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,52)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,52).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,52)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,52)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](51,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](52,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](54,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](56,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](57,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](58,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](59,0,null,null,1,"label",[["for","bookPublisher"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Publisher"])),(n()(),t["\u0275eld"](61,0,null,null,6,"input",[["class","form-control"],["id","bookPublisher"],["placeholder","Book Publisher"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,63)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,63).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,63)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,63)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](62,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](63,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](65,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](67,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](68,0,null,0,22,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](69,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](70,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](71,0,null,null,1,"label",[["for","bookIsbn"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["ISBN"])),(n()(),t["\u0275eld"](73,0,null,null,6,"input",[["class","form-control"],["id","bookIsbn"],["placeholder","Book ISBN"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,75)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,75).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,75)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,75)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](74,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](75,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](77,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](79,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](80,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),t["\u0275eld"](81,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](82,0,null,null,1,"label",[["for","bookEisbn"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["e-ISBN"])),(n()(),t["\u0275eld"](84,0,null,null,6,"input",[["class","form-control"],["id","bookEisbn"],["placeholder","Book e-ISBN"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,86)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,86).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,86)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,86)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](85,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](86,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](88,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](90,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](91,0,null,0,8,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](92,0,null,null,1,"label",[["for","bookDescription"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Book Description"])),(n()(),t["\u0275eld"](94,0,null,null,5,"input",[["class","form-control"],["id","bookDescription"],["placeholder","Book Description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,95)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,95).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,95)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,95)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](95,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](97,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](99,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](100,0,null,0,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](101,0,null,null,1,"label",[["for","bookStory"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Story"])),(n()(),t["\u0275eld"](103,0,null,null,8,"ckeditor",[["id","bookStory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,p.b,p.a)),t["\u0275did"](104,13287424,null,2,f.CKEditorComponent,[t.NgZone],{config:[0,"config"]},null),t["\u0275qud"](603979776,1,{toolbarButtons:1}),t["\u0275qud"](603979776,2,{toolbarGroups:1}),t["\u0275pod"](107,{extraPlugins:0,height:1}),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[f.CKEditorComponent]),t["\u0275did"](109,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](111,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](112,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](113,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","submit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Save changes"]))],function(n,l){var e=l.component;n(l,8,0,e.addBookForm),n(l,22,0,"form-control",e.bookTitle.valid?"":"form-control-danger"),n(l,25,0,e.addBookForm.controls.bookTitle),n(l,36,0,"form-control",e.bookDatePublished.valid?"":"form-control-danger"),n(l,39,0,e.setMaxDate()),n(l,42,0,e.addBookForm.controls.bookDatePublished),n(l,51,0,"form-control",e.bookAuthor.valid?"":"form-control-danger"),n(l,54,0,e.addBookForm.controls.bookAuthor),n(l,62,0,"form-control",e.bookPublisher.valid?"":"form-control-danger"),n(l,65,0,e.addBookForm.controls.bookPublisher),n(l,74,0,"form-control",e.bookIsbn.valid?"":"form-control-danger"),n(l,77,0,e.addBookForm.controls.bookIsbn),n(l,85,0,"form-control",e.bookEisbn.valid?"":"form-control-danger"),n(l,88,0,e.addBookForm.controls.bookEisbn),n(l,97,0,e.addBookForm.controls.bookDescription),n(l,104,0,n(l,107,0,"divarea","320")),n(l,109,0,e.addBookForm.controls.bookStory)},function(n,l){n(l,2,0,l.component.header),n(l,6,0,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending),n(l,12,1,[t["\u0275nov"](l,13).xxsmall,t["\u0275nov"](l,13).xsmall,t["\u0275nov"](l,13).small,t["\u0275nov"](l,13).medium,t["\u0275nov"](l,13).large,t["\u0275nov"](l,13).xlarge,t["\u0275nov"](l,13).xxlarge,t["\u0275nov"](l,13).active,t["\u0275nov"](l,13).disabled,t["\u0275nov"](l,13).primary,t["\u0275nov"](l,13).info,t["\u0275nov"](l,13).success,t["\u0275nov"](l,13).warning,t["\u0275nov"](l,13).danger,t["\u0275nov"](l,13).hasAccent,t["\u0275nov"](l,13).primaryAccent,t["\u0275nov"](l,13).infoAccent,t["\u0275nov"](l,13).successAccent,t["\u0275nov"](l,13).warningAccent,t["\u0275nov"](l,13).dangerAccent,t["\u0275nov"](l,13).activeAccent,t["\u0275nov"](l,13).disabledAccent]),n(l,21,0,t["\u0275nov"](l,27).ngClassUntouched,t["\u0275nov"](l,27).ngClassTouched,t["\u0275nov"](l,27).ngClassPristine,t["\u0275nov"](l,27).ngClassDirty,t["\u0275nov"](l,27).ngClassValid,t["\u0275nov"](l,27).ngClassInvalid,t["\u0275nov"](l,27).ngClassPending),n(l,35,0,t["\u0275nov"](l,39).disabled,t["\u0275nov"](l,44).ngClassUntouched,t["\u0275nov"](l,44).ngClassTouched,t["\u0275nov"](l,44).ngClassPristine,t["\u0275nov"](l,44).ngClassDirty,t["\u0275nov"](l,44).ngClassValid,t["\u0275nov"](l,44).ngClassInvalid,t["\u0275nov"](l,44).ngClassPending),n(l,50,0,t["\u0275nov"](l,56).ngClassUntouched,t["\u0275nov"](l,56).ngClassTouched,t["\u0275nov"](l,56).ngClassPristine,t["\u0275nov"](l,56).ngClassDirty,t["\u0275nov"](l,56).ngClassValid,t["\u0275nov"](l,56).ngClassInvalid,t["\u0275nov"](l,56).ngClassPending),n(l,61,0,t["\u0275nov"](l,67).ngClassUntouched,t["\u0275nov"](l,67).ngClassTouched,t["\u0275nov"](l,67).ngClassPristine,t["\u0275nov"](l,67).ngClassDirty,t["\u0275nov"](l,67).ngClassValid,t["\u0275nov"](l,67).ngClassInvalid,t["\u0275nov"](l,67).ngClassPending),n(l,73,0,t["\u0275nov"](l,79).ngClassUntouched,t["\u0275nov"](l,79).ngClassTouched,t["\u0275nov"](l,79).ngClassPristine,t["\u0275nov"](l,79).ngClassDirty,t["\u0275nov"](l,79).ngClassValid,t["\u0275nov"](l,79).ngClassInvalid,t["\u0275nov"](l,79).ngClassPending),n(l,84,0,t["\u0275nov"](l,90).ngClassUntouched,t["\u0275nov"](l,90).ngClassTouched,t["\u0275nov"](l,90).ngClassPristine,t["\u0275nov"](l,90).ngClassDirty,t["\u0275nov"](l,90).ngClassValid,t["\u0275nov"](l,90).ngClassInvalid,t["\u0275nov"](l,90).ngClassPending),n(l,94,0,t["\u0275nov"](l,99).ngClassUntouched,t["\u0275nov"](l,99).ngClassTouched,t["\u0275nov"](l,99).ngClassPristine,t["\u0275nov"](l,99).ngClassDirty,t["\u0275nov"](l,99).ngClassValid,t["\u0275nov"](l,99).ngClassInvalid,t["\u0275nov"](l,99).ngClassPending),n(l,103,0,t["\u0275nov"](l,111).ngClassUntouched,t["\u0275nov"](l,111).ngClassTouched,t["\u0275nov"](l,111).ngClassPristine,t["\u0275nov"](l,111).ngClassDirty,t["\u0275nov"](l,111).ngClassValid,t["\u0275nov"](l,111).ngClassInvalid,t["\u0275nov"](l,111).ngClassPending)})}var C=t["\u0275ccf"]("ngx-add-book",h.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ngx-add-book",[],null,null,null,b,v)),t["\u0275did"](1,114688,null,0,h.a,[o.FormBuilder,m.a],null,null)],function(n,l){n(l,1,0)},null)},{editBook:"editBook",header:"header"},{},[])},elQu:function(n,l,e){"use strict";e.d(l,"a",function(){return s});var t=e("nDnC"),o=e("tJ7H"),u=e("0zd0"),i=e("LBeq"),r=e("CcnG"),a=e("t/Na"),s=function(){function n(n,l){this.http=n,this.bookUrl=t.a+"books/site/",this.handleError=l.createHandleError("BookService")}return n.prototype.getBooks=function(n){return this.http.get(this.bookUrl+"getall/"+n).pipe(Object(u.a)(1e4))},n.prototype.addBook=function(n){return this.http.post(this.bookUrl+"book/create",n,i.a.getHttpHeaders()).pipe(Object(u.a)(1e4))},n.prototype.deleteBook=function(n){return this.http.post(this.bookUrl+"book/delete",n,i.a.getHttpHeaders()).pipe(Object(u.a)(1e4))},n.prototype.updateBook=function(n){return this.http.post(this.bookUrl+"book/update",n,i.a.getHttpHeaders()).pipe(Object(u.a)(1e4))},n.prototype.getBook=function(n){return this.http.get(this.bookUrl+"book/get/"+n).pipe(Object(u.a)(1e4))},n.prototype.getAll=function(){return this.http.get(t.a+"books/getall").pipe(Object(u.a)(1e4))},n.ngInjectableDef=r.defineInjectable({factory:function(){return new n(r.inject(a.c),r.inject(o.a))},token:n,providedIn:"root"}),n}()},ghat:function(n,l,e){"use strict";e("eUd/");var t=e("LBeq"),o=function(){return function(){this.subsectionId=t.a.getId(),this.subsectionDescription=this.story="",this.dateCreated=new Date}}(),u=e("gIcY");e("3NU7"),e("lb/0"),e.d(l,"a",function(){return i});var i=function(){function n(n,l){this.builder=n,this.activeModal=l}return n.prototype.ngOnInit=function(){this.addSubSectionForm=this.builder.group({subsectionNumber:["",[u.Validators.required,u.Validators.pattern(/^[1-9]\d*$/)]],subsectionTitle:["",u.Validators.required],subsectionDescription:[""],subsectionStory:[""]}),this.subsectionNumber=this.addSubSectionForm.controls.subsectionNumber,this.subsectionTitle=this.addSubSectionForm.controls.subsectionTitle,this.subsectionDescription=this.addSubSectionForm.controls.subsectionDescription,this.subsectionStory=this.addSubSectionForm.controls.subsectionStory,this.editSubsection&&this.populateForm()},n.prototype.closeModal=function(){this.activeModal.close()},n.prototype.addSubSection=function(n,l){if(l){var e=this.editSubsection;e||(e=new o),e.subsectionTitle=n.subsectionTitle,e.subsectionNumber=+n.subsectionNumber,e.story=n.subsectionStory,e.subsectionDescription=n.subsectionDescription,this.activeModal.close(e)}},n.prototype.populateForm=function(){this.subsectionNumber.setValue(this.editSubsection.subsectionNumber),this.subsectionTitle.setValue(this.editSubsection.subsectionTitle),this.subsectionDescription.setValue(this.editSubsection.subsectionDescription),this.subsectionStory.setValue(this.editSubsection.story)},n.prototype.onEditorChange=function(n){this.subsectionStory.setValue(n)},n}()},kScs:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=function(){function n(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return n.hashStr=function(n,l){return void 0===l&&(l=!1),this.onePassHasher.start().appendStr(n).end(l)},n.hashAsciiStr=function(n,l){return void 0===l&&(l=!1),this.onePassHasher.start().appendAsciiStr(n).end(l)},n._hex=function(l){var e,t,o,u,i=n.hexChars,r=n.hexOut;for(u=0;u<4;u+=1)for(t=8*u,e=l[u],o=0;o<8;o+=2)r[t+1+o]=i.charAt(15&e),r[t+0+o]=i.charAt(15&(e>>>=4)),e>>>=4;return r.join("")},n._md5cycle=function(n,l){var e=n[0],t=n[1],o=n[2],u=n[3];t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&o|~t&u)+l[0]-680876936|0)<<7|e>>>25)+t|0)&t|~e&o)+l[1]-389564586|0)<<12|u>>>20)+e|0)&e|~u&t)+l[2]+606105819|0)<<17|o>>>15)+u|0)&u|~o&e)+l[3]-1044525330|0)<<22|t>>>10)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&o|~t&u)+l[4]-176418897|0)<<7|e>>>25)+t|0)&t|~e&o)+l[5]+1200080426|0)<<12|u>>>20)+e|0)&e|~u&t)+l[6]-1473231341|0)<<17|o>>>15)+u|0)&u|~o&e)+l[7]-45705983|0)<<22|t>>>10)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&o|~t&u)+l[8]+1770035416|0)<<7|e>>>25)+t|0)&t|~e&o)+l[9]-1958414417|0)<<12|u>>>20)+e|0)&e|~u&t)+l[10]-42063|0)<<17|o>>>15)+u|0)&u|~o&e)+l[11]-1990404162|0)<<22|t>>>10)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&o|~t&u)+l[12]+1804603682|0)<<7|e>>>25)+t|0)&t|~e&o)+l[13]-40341101|0)<<12|u>>>20)+e|0)&e|~u&t)+l[14]-1502002290|0)<<17|o>>>15)+u|0)&u|~o&e)+l[15]+1236535329|0)<<22|t>>>10)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&u|o&~u)+l[1]-165796510|0)<<5|e>>>27)+t|0)&o|t&~o)+l[6]-1069501632|0)<<9|u>>>23)+e|0)&t|e&~t)+l[11]+643717713|0)<<14|o>>>18)+u|0)&e|u&~e)+l[0]-373897302|0)<<20|t>>>12)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&u|o&~u)+l[5]-701558691|0)<<5|e>>>27)+t|0)&o|t&~o)+l[10]+38016083|0)<<9|u>>>23)+e|0)&t|e&~t)+l[15]-660478335|0)<<14|o>>>18)+u|0)&e|u&~e)+l[4]-405537848|0)<<20|t>>>12)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&u|o&~u)+l[9]+568446438|0)<<5|e>>>27)+t|0)&o|t&~o)+l[14]-1019803690|0)<<9|u>>>23)+e|0)&t|e&~t)+l[3]-187363961|0)<<14|o>>>18)+u|0)&e|u&~e)+l[8]+1163531501|0)<<20|t>>>12)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t&u|o&~u)+l[13]-1444681467|0)<<5|e>>>27)+t|0)&o|t&~o)+l[2]-51403784|0)<<9|u>>>23)+e|0)&t|e&~t)+l[7]+1735328473|0)<<14|o>>>18)+u|0)&e|u&~e)+l[12]-1926607734|0)<<20|t>>>12)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t^o^u)+l[5]-378558|0)<<4|e>>>28)+t|0)^t^o)+l[8]-2022574463|0)<<11|u>>>21)+e|0)^e^t)+l[11]+1839030562|0)<<16|o>>>16)+u|0)^u^e)+l[14]-35309556|0)<<23|t>>>9)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t^o^u)+l[1]-1530992060|0)<<4|e>>>28)+t|0)^t^o)+l[4]+1272893353|0)<<11|u>>>21)+e|0)^e^t)+l[7]-155497632|0)<<16|o>>>16)+u|0)^u^e)+l[10]-1094730640|0)<<23|t>>>9)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t^o^u)+l[13]+681279174|0)<<4|e>>>28)+t|0)^t^o)+l[0]-358537222|0)<<11|u>>>21)+e|0)^e^t)+l[3]-722521979|0)<<16|o>>>16)+u|0)^u^e)+l[6]+76029189|0)<<23|t>>>9)+o|0,t=((t+=((o=((o+=((u=((u+=((e=((e+=(t^o^u)+l[9]-640364487|0)<<4|e>>>28)+t|0)^t^o)+l[12]-421815835|0)<<11|u>>>21)+e|0)^e^t)+l[15]+530742520|0)<<16|o>>>16)+u|0)^u^e)+l[2]-995338651|0)<<23|t>>>9)+o|0,t=((t+=((u=((u+=(t^((e=((e+=(o^(t|~u))+l[0]-198630844|0)<<6|e>>>26)+t|0)|~o))+l[7]+1126891415|0)<<10|u>>>22)+e|0)^((o=((o+=(e^(u|~t))+l[14]-1416354905|0)<<15|o>>>17)+u|0)|~e))+l[5]-57434055|0)<<21|t>>>11)+o|0,t=((t+=((u=((u+=(t^((e=((e+=(o^(t|~u))+l[12]+1700485571|0)<<6|e>>>26)+t|0)|~o))+l[3]-1894986606|0)<<10|u>>>22)+e|0)^((o=((o+=(e^(u|~t))+l[10]-1051523|0)<<15|o>>>17)+u|0)|~e))+l[1]-2054922799|0)<<21|t>>>11)+o|0,t=((t+=((u=((u+=(t^((e=((e+=(o^(t|~u))+l[8]+1873313359|0)<<6|e>>>26)+t|0)|~o))+l[15]-30611744|0)<<10|u>>>22)+e|0)^((o=((o+=(e^(u|~t))+l[6]-1560198380|0)<<15|o>>>17)+u|0)|~e))+l[13]+1309151649|0)<<21|t>>>11)+o|0,t=((t+=((u=((u+=(t^((e=((e+=(o^(t|~u))+l[4]-145523070|0)<<6|e>>>26)+t|0)|~o))+l[11]-1120210379|0)<<10|u>>>22)+e|0)^((o=((o+=(e^(u|~t))+l[2]+718787259|0)<<15|o>>>17)+u|0)|~e))+l[9]-343485551|0)<<21|t>>>11)+o|0,n[0]=e+n[0]|0,n[1]=t+n[1]|0,n[2]=o+n[2]|0,n[3]=u+n[3]|0},n.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(n.stateIdentity),this},n.prototype.appendStr=function(l){var e,t,o=this._buffer8,u=this._buffer32,i=this._bufferLength;for(t=0;t<l.length;t+=1){if((e=l.charCodeAt(t))<128)o[i++]=e;else if(e<2048)o[i++]=192+(e>>>6),o[i++]=63&e|128;else if(e<55296||e>56319)o[i++]=224+(e>>>12),o[i++]=e>>>6&63|128,o[i++]=63&e|128;else{if((e=1024*(e-55296)+(l.charCodeAt(++t)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");o[i++]=240+(e>>>18),o[i++]=e>>>12&63|128,o[i++]=e>>>6&63|128,o[i++]=63&e|128}i>=64&&(this._dataLength+=64,n._md5cycle(this._state,u),i-=64,u[0]=u[16])}return this._bufferLength=i,this},n.prototype.appendAsciiStr=function(l){for(var e,t=this._buffer8,o=this._buffer32,u=this._bufferLength,i=0;;){for(e=Math.min(l.length-i,64-u);e--;)t[u++]=l.charCodeAt(i++);if(u<64)break;this._dataLength+=64,n._md5cycle(this._state,o),u=0}return this._bufferLength=u,this},n.prototype.appendByteArray=function(l){for(var e,t=this._buffer8,o=this._buffer32,u=this._bufferLength,i=0;;){for(e=Math.min(l.length-i,64-u);e--;)t[u++]=l[i++];if(u<64)break;this._dataLength+=64,n._md5cycle(this._state,o),u=0}return this._bufferLength=u,this},n.prototype.getState=function(){var n=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[n[0],n[1],n[2],n[3]]}},n.prototype.setState=function(n){var l,e=n.buffer,t=n.state,o=this._state;for(this._dataLength=n.length,this._bufferLength=n.buflen,o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],l=0;l<e.length;l+=1)this._buffer8[l]=e.charCodeAt(l)},n.prototype.end=function(l){void 0===l&&(l=!1);var e,t=this._bufferLength,o=this._buffer8,u=this._buffer32,i=1+(t>>2);if(this._dataLength+=t,o[t]=128,o[t+1]=o[t+2]=o[t+3]=0,u.set(n.buffer32Identity.subarray(i),i),t>55&&(n._md5cycle(this._state,u),u.set(n.buffer32Identity)),(e=8*this._dataLength)<=4294967295)u[14]=e;else{var r=e.toString(16).match(/(.*?)(.{0,8})$/);if(null===r)return;var a=parseInt(r[2],16),s=parseInt(r[1],16)||0;u[14]=a,u[15]=s}return n._md5cycle(this._state,u),l?this._state:n._hex(this._state)},n.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),n.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n.hexChars="0123456789abcdef",n.hexOut=[],n.onePassHasher=new n,n}();l.Md5=t,"5d41402abc4b2a76b9719d911017c592"!==t.hashStr("hello")&&console.error("Md5 self test failed.")},nDnC:function(n,l,e){"use strict";e.d(l,"a",function(){return o}),e.d(l,"b",function(){return u});var t=e("qS97");window.CKEDITOR_BASEPATH="//cdn.ckeditor.com/4.6.2/full-all/";var o="https://bookapi.hash-code.com/",u=function(){function n(){}return n.POSITION_CLASS="toast-top-right",n.TIMEOUT=5e3,n.LIMIT=5,n.TAP_TO_DISMISS=!0,n.NEWEST_ON_TOP=!0,n.PREVENT_DUPLICATE=!0,n.SHOW_CLOSE_BUTTON=!0,n.TOAST_TYPE={success:"success",info:"info",error:"error",warning:"warning",default:"default"},n.TOASTER_CONFIG=new t.b({positionClass:n.POSITION_CLASS,timeout:n.TIMEOUT,newestOnTop:n.NEWEST_ON_TOP,tapToDismiss:n.TAP_TO_DISMISS,preventDuplicates:n.PREVENT_DUPLICATE,animation:(n.ANIMATION_TYPE={fade:"fade",flyLeft:"flyLeft",flyRight:"flyRight",slideDown:"slideDown",slideUp:"slideUp"}).fade,limit:n.LIMIT}),n}()},nHJ7:function(n,l,e){"use strict";e.d(l,"a",function(){return u}),e("eUd/");var t=e("KD3X"),o=e("gIcY"),u=(e("WKqP"),e("lb/0"),function(){function n(n,l){this.builder=n,this.activeModal=l}return n.prototype.ngOnInit=function(){this.addBookForm=this.builder.group({bookTitle:["",o.Validators.required],bookAuthor:["",o.Validators.required],bookPublisher:["",o.Validators.required],bookIsbn:["",o.Validators.required],bookEisbn:["",o.Validators.required],bookDatePublished:["",o.Validators.required],bookDescription:[""],bookStory:[""]}),this.bookTitle=this.addBookForm.controls.bookTitle,this.bookAuthor=this.addBookForm.controls.bookAuthor,this.bookPublisher=this.addBookForm.controls.bookPublisher,this.bookIsbn=this.addBookForm.controls.bookIsbn,this.bookEisbn=this.addBookForm.controls.bookEisbn,this.bookDatePublished=this.addBookForm.controls.bookDatePublished,this.bookDescription=this.addBookForm.controls.bookDescription,this.bookStory=this.addBookForm.controls.bookStory,this.editBook&&this.populateForm()},n.prototype.closeModal=function(){this.activeModal.close()},n.prototype.addEditBook=function(n,l){if(l){var e=this.editBook;e||(e=new t.a),e.datePublished=this.formatToDate(n.bookDatePublished),e.eisbn=n.bookEisbn,e.isbn=n.bookIsbn,e.publisher=n.bookPublisher,e.author=n.bookAuthor,e.bookTitle=n.bookTitle,e.story=n.bookStory,e.bookDescription=n.bookDescription,this.activeModal.close(e)}},n.prototype.populateForm=function(){this.bookAuthor.setValue(this.editBook.author),this.bookDatePublished.setValue(this.formatToNgbDateStruct(this.editBook.datePublished)),this.bookEisbn.setValue(this.editBook.eisbn),this.bookIsbn.setValue(this.editBook.isbn),this.bookTitle.setValue(this.editBook.bookTitle),this.bookAuthor.setValue(this.editBook.author),this.bookPublisher.setValue(this.editBook.publisher),this.bookDescription.setValue(this.editBook.bookDescription),this.bookStory.setValue(this.editBook.story)},n.prototype.setMaxDate=function(){var n=new Date;return{day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()}},n.prototype.onDateSelect=function(n){console.log(n)},n.prototype.formatToDate=function(n){return new Date(n.year+"-"+n.month+"-"+n.day)},n.prototype.formatToNgbDateStruct=function(n){var l={year:(n=new Date(n)).getFullYear(),month:n.getMonth()+1,day:n.getDate()};return console.log(l),l},n}())},o9EK:function(n,l,e){"use strict";l.UUID=function(){function n(){}return n.UUID=function(){if("undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues){var n=new Uint16Array(8);return window.crypto.getRandomValues(n),this.pad4(n[0])+this.pad4(n[1])+"-"+this.pad4(n[2])+"-"+this.pad4(n[3])+"-"+this.pad4(n[4])+"-"+this.pad4(n[5])+this.pad4(n[6])+this.pad4(n[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},n.pad4=function(n){for(var l=n.toString(16);l.length<4;)l="0"+l;return l},n.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},n}()},pYLI:function(n,l,e){"use strict";e("eUd/");var t=e("LBeq"),o=function(){return function(){this.sectionId=t.a.getId(),this.sectionDescription=this.story="",this.dateCreated=new Date}}(),u=e("gIcY");e("9iT/"),e("lb/0"),e.d(l,"a",function(){return i});var i=function(){function n(n,l){this.builder=n,this.activeModal=l}return n.prototype.ngOnInit=function(){this.addSectionForm=this.builder.group({sectionNumber:["",[u.Validators.required,u.Validators.pattern(/^[1-9]\d*$/)]],sectionTitle:["",u.Validators.required],sectionDescription:[""],sectionStory:[""]}),this.sectionNumber=this.addSectionForm.controls.sectionNumber,this.sectionTitle=this.addSectionForm.controls.sectionTitle,this.sectionDescription=this.addSectionForm.controls.sectionDescription,this.sectionStory=this.addSectionForm.controls.sectionStory,this.editSection&&this.populateForm()},n.prototype.closeModal=function(){this.activeModal.close()},n.prototype.addSection=function(n,l){if(l){var e=this.editSection;e||(e=new o),e.sectionNumber=+n.sectionNumber,e.sectionTitle=n.sectionTitle,e.story=n.sectionStory,e.sectionDescription=n.sectionDescription,this.activeModal.close(e)}},n.prototype.populateForm=function(){this.sectionNumber.setValue(this.editSection.sectionNumber),this.sectionTitle.setValue(this.editSection.sectionTitle),this.sectionDescription.setValue(this.editSection.sectionDescription),this.sectionStory.setValue(this.editSection.story)},n.prototype.onEditorChange=function(n){this.sectionStory.setValue(n)},n}()},rM6w:function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("4bAE"),i=e("mc3f"),r=e("SU4i"),a=e("+ImT"),s=e("Qq3i"),c=e("Ip0R"),d=e("ymQ0"),g=e("/UJ/"),p=e("e9P1"),f=e("iCtU"),h=e("Ovjw"),m=e("elQu"),v=e("t/Na"),b=e("tJ7H"),C=e("BL72"),S=e("TWOa"),_=e("37kT");e.d(l,"a",function(){return O});var k=t["\u0275crt"]({encapsulation:0,styles:[[".nb-theme-default   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.nb-theme-cosmic   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.nb-theme-corporate   [_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:220px}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 0 1.5rem 1.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}"]],data:{}});function T(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](3,null,[" "," "]))],function(n,l){n(l,1,0,l.context.$implicit.bookId),n(l,2,0,l.context.$implicit.bookId)},function(n,l){n(l,3,0,l.context.$implicit.bookTitle)})}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,9,"nb-card",[["nbSpinnerStatus","info"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null],[2,"nb-spinner-container",null]],null,null,u.f,u.b)),t["\u0275did"](1,49152,null,0,i.b,[],null,null),t["\u0275did"](2,81920,null,0,r.a,[t.ViewContainerRef,t.ComponentFactoryResolver,t.Renderer2,t.ElementRef],{spinnerStatus:[0,"spinnerStatus"],nbSpinner:[1,"nbSpinner"]},null),(n()(),t["\u0275eld"](3,0,null,0,2,"nb-card-header",[],null,null,null,u.h,u.d)),t["\u0275did"](4,49152,null,0,i.d,[],null,null),(n()(),t["\u0275ted"](5,0,[" Chapters in "," "])),(n()(),t["\u0275eld"](6,0,null,1,3,"nb-card-body",[],null,null,null,u.e,u.a)),t["\u0275did"](7,49152,null,0,i.a,[],null,null),(n()(),t["\u0275eld"](8,0,null,0,1,"ng2-smart-table",[],null,[[null,"create"],[null,"edit"],[null,"delete"]],function(n,l,e){var t=!0,o=n.component;return"create"===l&&(t=!1!==o.onCreate(e)&&t),"edit"===l&&(t=!1!==o.onEdit(e)&&t),"delete"===l&&(t=!1!==o.onDelete(e)&&t),t},a.b,a.a)),t["\u0275did"](9,573440,null,0,s.a,[],{source:[0,"source"],settings:[1,"settings"]},{delete:"delete",edit:"edit",create:"create"}),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){var e=l.component;n(l,2,0,"info",e.loading),n(l,9,0,e.source,e.settings)},function(n,l){var e=l.component;n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent,t["\u0275nov"](l,2).isSpinnerExist]),n(l,5,0,e.book.bookTitle)})}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,21,"nb-card",[["class","inline-form-card"]],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,u.f,u.b)),t["\u0275did"](1,49152,null,0,i.b,[],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,u.h,u.d)),t["\u0275did"](3,49152,null,0,i.d,[],null,null),(n()(),t["\u0275ted"](-1,0,["Book Management - Chapters"])),(n()(),t["\u0275eld"](5,0,null,1,16,"nb-card-body",[],null,null,null,u.e,u.a)),t["\u0275did"](6,49152,null,0,i.a,[],null,null),(n()(),t["\u0275eld"](7,0,null,0,14,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["\u0275nov"](n,9).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,9).onReset()&&o),o},null,null)),t["\u0275did"](8,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](9,4210688,null,0,o.NgForm,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.NgForm]),t["\u0275did"](11,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](12,0,null,null,9,"div",[["class","input-group full-width"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,1,"label",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Book"])),(n()(),t["\u0275eld"](15,0,null,null,6,"select",[["class","form-control"]],null,[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onChange(e)&&t),t},null,null)),(n()(),t["\u0275eld"](16,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](17,147456,null,0,o.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](18,147456,null,0,o["\u0275angular_packages_forms_forms_r"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(n()(),t["\u0275ted"](-1,null,["Select Book"])),(n()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](21,802816,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](23,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](24,0,null,null,1,"toaster-container",[],null,null,null,d.b,d.a)),t["\u0275did"](25,245760,null,0,g.a,[p.a,t.ChangeDetectorRef,t.NgZone],{toasterconfig:[0,"toasterconfig"]},null)],function(n,l){var e=l.component;n(l,17,0,""),n(l,18,0,""),n(l,21,0,e.books),n(l,23,0,e.book),n(l,25,0,e.toasterConfig)},function(n,l){n(l,0,1,[t["\u0275nov"](l,1).xxsmall,t["\u0275nov"](l,1).xsmall,t["\u0275nov"](l,1).small,t["\u0275nov"](l,1).medium,t["\u0275nov"](l,1).large,t["\u0275nov"](l,1).xlarge,t["\u0275nov"](l,1).xxlarge,t["\u0275nov"](l,1).active,t["\u0275nov"](l,1).disabled,t["\u0275nov"](l,1).primary,t["\u0275nov"](l,1).info,t["\u0275nov"](l,1).success,t["\u0275nov"](l,1).warning,t["\u0275nov"](l,1).danger,t["\u0275nov"](l,1).hasAccent,t["\u0275nov"](l,1).primaryAccent,t["\u0275nov"](l,1).infoAccent,t["\u0275nov"](l,1).successAccent,t["\u0275nov"](l,1).warningAccent,t["\u0275nov"](l,1).dangerAccent,t["\u0275nov"](l,1).activeAccent,t["\u0275nov"](l,1).disabledAccent]),n(l,7,0,t["\u0275nov"](l,11).ngClassUntouched,t["\u0275nov"](l,11).ngClassTouched,t["\u0275nov"](l,11).ngClassPristine,t["\u0275nov"](l,11).ngClassDirty,t["\u0275nov"](l,11).ngClassValid,t["\u0275nov"](l,11).ngClassInvalid,t["\u0275nov"](l,11).ngClassPending)})}var O=t["\u0275ccf"]("ngx-chapters",C.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"ngx-chapters",[],null,null,null,E,k)),t["\u0275prd"](512,null,f.a,f.a,[t.ComponentFactoryResolver,t.Injector,h.a]),t["\u0275prd"](512,null,m.a,m.a,[v.c,b.a]),t["\u0275did"](3,114688,null,0,C.a,[f.a,p.a,S.a,m.a,_.a],null,null)],function(n,l){n(l,3,0)},null)},{},{},[])},tJ7H:function(n,l,e){"use strict";e.d(l,"a",function(){return u});var t=e("F/XL"),o=e("CcnG"),u=function(){function n(){var n=this;this.createHandleError=function(l){return void 0===l&&(l=""),function(e,t){return void 0===e&&(e="operation"),void 0===t&&(t={}),n.handleError(l,e,t)}}}return n.prototype.handleError=function(n,l,e){return void 0===n&&(n=""),void 0===l&&(l="operation"),void 0===e&&(e={}),function(n){return console.error(n),ErrorEvent,Object(t.a)(e)}},n.ngInjectableDef=o.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},tbGj:function(n,l,e){"use strict";var t=e("CcnG"),o=e("gIcY"),u=e("4bAE"),i=e("mc3f"),r=e("Ip0R"),a=e("3vqK"),s=e("EB9a"),c=e("pYLI"),d=e("Ppan");e.d(l,"a",function(){return f});var g=t["\u0275crt"]({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{cursor:pointer;height:1rem}"]],data:{}});function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,2,"button",[["aria-label","Close"],["class","close"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeModal()&&t),t},null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\xd7"])),(n()(),t["\u0275eld"](6,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;return"submit"===l&&(o=!1!==t["\u0275nov"](n,8).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["\u0275nov"](n,8).onReset()&&o),"ngSubmit"===l&&(o=!1!==u.addSection(u.addSectionForm.value,u.addSectionForm.valid)&&o),o},null,null)),t["\u0275did"](7,16384,null,0,o["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](8,540672,null,0,o.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,o.ControlContainer,null,[o.FormGroupDirective]),t["\u0275did"](10,16384,null,0,o.NgControlStatusGroup,[[4,o.ControlContainer]],null,null),(n()(),t["\u0275eld"](11,0,null,null,48,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,null,null,47,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,u.f,u.b)),t["\u0275did"](13,49152,null,0,i.b,[],null,null),(n()(),t["\u0275eld"](14,0,null,1,45,"nb-card-body",[],null,null,null,u.e,u.a)),t["\u0275did"](15,49152,null,0,i.a,[],null,null),(n()(),t["\u0275eld"](16,0,null,0,22,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,1,"label",[["for","sectionNumber"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Section Number"])),(n()(),t["\u0275eld"](21,0,null,null,6,"input",[["class","form-control"],["id","sectionNumber"],["placeholder","Section Number"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,23)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,23).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,23)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](22,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](23,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](25,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](27,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](28,0,null,null,10,"div",[["class","col-sm-9"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,1,"label",[["for","sectionTitle"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Section Title"])),(n()(),t["\u0275eld"](32,0,null,null,6,"input",[["class","form-control"],["id","sectionTitle"],["placeholder","Section Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,34)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,34).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,34)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](33,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275did"](34,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](36,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](38,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](39,0,null,0,8,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](40,0,null,null,1,"label",[["for","sectionDescription"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Section Description"])),(n()(),t["\u0275eld"](42,0,null,null,5,"input",[["class","form-control"],["id","sectionDescription"],["placeholder","Section Description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["\u0275nov"](n,43)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["\u0275nov"](n,43).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["\u0275nov"](n,43)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["\u0275nov"](n,43)._compositionEnd(e.target.value)&&o),o},null,null)),t["\u0275did"](43,16384,null,0,o.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,o.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[o.DefaultValueAccessor]),t["\u0275did"](45,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](47,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](48,0,null,0,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](49,0,null,null,1,"label",[["for","sectionStory"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Story"])),(n()(),t["\u0275eld"](51,0,null,null,8,"ckeditor",[["id","sectionStory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,a.b,a.a)),t["\u0275did"](52,13287424,null,2,s.CKEditorComponent,[t.NgZone],{config:[0,"config"]},null),t["\u0275qud"](603979776,1,{toolbarButtons:1}),t["\u0275qud"](603979776,2,{toolbarGroups:1}),t["\u0275pod"](55,{extraPlugins:0,height:1}),t["\u0275prd"](1024,null,o.NG_VALUE_ACCESSOR,function(n){return[n]},[s.CKEditorComponent]),t["\u0275did"](57,540672,null,0,o.FormControlDirective,[[8,null],[8,null],[6,o.NG_VALUE_ACCESSOR],[2,o["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.NgControl,null,[o.FormControlDirective]),t["\u0275did"](59,16384,null,0,o.NgControlStatus,[[4,o.NgControl]],null,null),(n()(),t["\u0275eld"](60,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](61,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","submit"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Save changes"]))],function(n,l){var e=l.component;n(l,8,0,e.addSectionForm),n(l,22,0,"form-control",e.sectionNumber.valid?"":"form-control-danger"),n(l,25,0,e.addSectionForm.controls.sectionNumber),n(l,33,0,"form-control",e.sectionTitle.valid?"":"form-control-danger"),n(l,36,0,e.addSectionForm.controls.sectionTitle),n(l,45,0,e.addSectionForm.controls.sectionDescription),n(l,52,0,n(l,55,0,"divarea","320")),n(l,57,0,e.addSectionForm.controls.sectionStory)},function(n,l){n(l,2,0,l.component.header),n(l,6,0,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending),n(l,12,1,[t["\u0275nov"](l,13).xxsmall,t["\u0275nov"](l,13).xsmall,t["\u0275nov"](l,13).small,t["\u0275nov"](l,13).medium,t["\u0275nov"](l,13).large,t["\u0275nov"](l,13).xlarge,t["\u0275nov"](l,13).xxlarge,t["\u0275nov"](l,13).active,t["\u0275nov"](l,13).disabled,t["\u0275nov"](l,13).primary,t["\u0275nov"](l,13).info,t["\u0275nov"](l,13).success,t["\u0275nov"](l,13).warning,t["\u0275nov"](l,13).danger,t["\u0275nov"](l,13).hasAccent,t["\u0275nov"](l,13).primaryAccent,t["\u0275nov"](l,13).infoAccent,t["\u0275nov"](l,13).successAccent,t["\u0275nov"](l,13).warningAccent,t["\u0275nov"](l,13).dangerAccent,t["\u0275nov"](l,13).activeAccent,t["\u0275nov"](l,13).disabledAccent]),n(l,21,0,t["\u0275nov"](l,27).ngClassUntouched,t["\u0275nov"](l,27).ngClassTouched,t["\u0275nov"](l,27).ngClassPristine,t["\u0275nov"](l,27).ngClassDirty,t["\u0275nov"](l,27).ngClassValid,t["\u0275nov"](l,27).ngClassInvalid,t["\u0275nov"](l,27).ngClassPending),n(l,32,0,t["\u0275nov"](l,38).ngClassUntouched,t["\u0275nov"](l,38).ngClassTouched,t["\u0275nov"](l,38).ngClassPristine,t["\u0275nov"](l,38).ngClassDirty,t["\u0275nov"](l,38).ngClassValid,t["\u0275nov"](l,38).ngClassInvalid,t["\u0275nov"](l,38).ngClassPending),n(l,42,0,t["\u0275nov"](l,47).ngClassUntouched,t["\u0275nov"](l,47).ngClassTouched,t["\u0275nov"](l,47).ngClassPristine,t["\u0275nov"](l,47).ngClassDirty,t["\u0275nov"](l,47).ngClassValid,t["\u0275nov"](l,47).ngClassInvalid,t["\u0275nov"](l,47).ngClassPending),n(l,51,0,t["\u0275nov"](l,59).ngClassUntouched,t["\u0275nov"](l,59).ngClassTouched,t["\u0275nov"](l,59).ngClassPristine,t["\u0275nov"](l,59).ngClassDirty,t["\u0275nov"](l,59).ngClassValid,t["\u0275nov"](l,59).ngClassInvalid,t["\u0275nov"](l,59).ngClassPending)})}var f=t["\u0275ccf"]("ngx-add-edit-section",c.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ngx-add-edit-section",[],null,null,null,p,g)),t["\u0275did"](1,114688,null,0,c.a,[o.FormBuilder,d.a],null,null)],function(n,l){n(l,1,0)},null)},{editSection:"editSection",header:"header"},{},[])},uuUV:function(n,l,e){"use strict";e.d(l,"a",function(){return a});var t=e("CcnG"),o=e("ZYCi"),u=e("FObW"),i=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function r(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,o.q,[o.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],function(n,l){n(l,1,0)},null)}var a=t["\u0275ccf"]("ngx-book-management",u.a,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ngx-book-management",[],null,null,null,r,i)),t["\u0275did"](1,49152,null,0,u.a,[],null,null)],null,null)},{},{},[])},vmqP:function(n,l,e){"use strict";e.d(l,"a",function(){return a}),e("eUd/");var t=e("nHJ7"),o=e("Ip0R"),u=e("CG3O"),i=(e("qS97"),e("nDnC")),r=(e("37kT"),e("elQu"),e("LBeq")),a=(e("688w"),function(){function n(n,l,e,t){this.modalService=n,this.toasterService=l,this.siteService=e,this.bookService=t,this.settings={mode:"external",add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>'},columns:{bookTitle:{title:"Title",type:"string"},author:{title:"Author",type:"string"},publisher:{title:"Publisher",type:"string"},isbn:{title:"ISBN",type:"string"},eisbn:{title:"e-ISBN",type:"string"},datePublished:{title:"Date Published",type:"string",valuePrepareFunction:function(n){return new o.DatePipe("en-EN").transform(n,"yyyy-MM-dd")}},dateCreated:{title:"Date Created",type:"string",addable:!1,editable:!1,valuePrepareFunction:function(n){return new o.DatePipe("en-EN").transform(n,"yyyy-MM-dd")}}},pager:{perPage:10}}}return n.prototype.ngOnInit=function(){this.getMotsepeSiteId()},n.prototype.getMotsepeSiteId=function(){var n=this;this.loading=!0,this.siteService.getSites().subscribe(function(l){l&&(n.motsepeSiteId=l[0].siteId)},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Book","Error fetching site: "+l.message)},function(){n.loading=!1,n.getBooks()})},n.prototype.getBooks=function(){var n=this;this.loading=!0,this.bookService.getBooks(this.motsepeSiteId).subscribe(function(l){n.books=[],l?n.books=l:n.showInformation(i.b.TOAST_TYPE.warning,"Book","No books retrieve."),n.source=new u.a(n.books)},function(l){n.loading=!1,n.showInformation(i.b.TOAST_TYPE.error,"Book","Error fetching books: "+l.message),console.error("Error fetching books: "+l.message)},function(){n.loading=!1})},n.prototype.onDelete=function(n){var l=this;if(window.confirm("Are you sure you want to delete?")){var e=n.data,t=this.books;this.loading=!0,this.bookService.deleteBook(e).subscribe(function(n){n?(t=l.books.filter(function(n){return n.bookId!==e.bookId}),l.showInformation(i.b.TOAST_TYPE.success,"Book","Book deleted!")):l.showInformation(i.b.TOAST_TYPE.warning,"Book","Book NOT deleted!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.warning,"Book","Error deleting book: "+n.message)},function(){l.books=t,l.source.load(l.books),l.loading=!1})}},n.prototype.onCreate=function(n){console.info("Adding new book..."),this.processAddEditBook("Book Management - Add New Book",null)},n.prototype.onEdit=function(n){var l=n.data;console.info("Editing book..."),this.processAddEditBook("Book Management - Edit Book",l)},n.prototype.processAddEditBook=function(n,l){var e=this,o=this.modalService.open(t.a,{size:"lg",container:"nb-layout"});o.componentInstance.header=n,o.componentInstance.editBook=l,o.result.then(function(n){n&&(l?e.updateExistingBook(n):e.addNewBook(n))}).catch(function(n){console.error(n)})},n.prototype.updateExistingBook=function(n){var l=this,e=this.books;this.loading=!0,this.bookService.updateBook(n).subscribe(function(t){t?((e=l.books.filter(function(l){return l.bookId!==n.bookId})).push(t),l.showInformation(i.b.TOAST_TYPE.success,"Book","Book updated!")):l.showInformation(i.b.TOAST_TYPE.warning,"Book","Book NOT updated!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Book","Error adding book "+n.message)},function(){l.books=e,l.source.load(l.books),l.loading=!1})},n.prototype.addNewBook=function(n){var l=this;n.siteId=this.motsepeSiteId,this.loading=!0,this.bookService.addBook(n).subscribe(function(n){n?(l.books.push(n),l.showInformation(i.b.TOAST_TYPE.success,"Book","Book added!")):l.showInformation(i.b.TOAST_TYPE.warning,"Book","Book NOT added!")},function(n){l.loading=!1,l.showInformation(i.b.TOAST_TYPE.error,"Book","Error adding book: "+n.message),console.error()},function(){l.loading=!1,l.source.load(l.books)})},n.prototype.showInformation=function(n,l,e){this.toasterConfig=i.b.TOASTER_CONFIG;var t=r.a.makeToast(n,l,e);this.toasterService.popAsync(t)},n}())},wHek:function(n,l){window.CKEDITOR_BASEPATH="//cdn.ckeditor.com/4.6.2/full-all/"}}]);